<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Communication Units Granularity Considerations for Multi-Path Aware Transport Selection</title>

  
<style type="text/css">/*<![CDATA[*/
@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}

@media screen and (min-width: 1024px) {
  ul.toc, #rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    padding: 0 1em;
    z-index: 1;
  }
  #rfc\.toc {
    top: 16px;
  }
  ul.toc {
    top: 80px;
    overflow: auto;
  }

  body {
    padding-left: 1.5em;
    padding-right: 29em;
  }
}

body {
  font: 15px "Helvetica Neue",Helvetica,Arial,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 130%;
  margin: 2.5em auto;
  max-width: 724px;
}

.title, .filename, h1, h2, h3, h4 {
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size-adjust: 0.5;
  font-weight: 500;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title { font-size: 36px; }
h1 { font-size: 30px; }
h2 { font-size: 24px; }
h3, h4 { font-size: 18px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

ul.toc li {
  list-style: none;
  text-indent: -2.5em;
  padding-left: 2.5em;
  padding-bottom: 5px;
  margin: 0;
}
ul.toc ul {
  margin: 0;
}
/* xml2rfc nests ul directly inside ul which messes with the style badly */
ul.toc, ul.toc>ul, ul.toc ul>ul {
  margin: 0 0 0 1.5em;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header {
  width: 100%;
}
table.header td {
  border: none;
  background-color: transparent;
  color: black;
}
.filename {
  color: rgb(119, 119, 119);
  font-size: 23px;
  font-weight: normal;
  height: auto;
  line-height: 100%;
}
#rfc\.abstract+p {
  font-size: 20px;
  font-weight: 300;
  line-height: 130%;
}

samp, tt, code, pre {
  font: 11pt consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure {
  font-style: italic;
  margin: 0 1.5em;
}

address {
  margin: 10px 0 0;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn {
  font-weight: bold;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}
address {
  font-style: normal;
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>


  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Conventions and Definitions"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Introduction"/>
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Communication Units vs. Layering"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Abstract Hierarchy of Communication Units"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Object"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Stream"/>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Association, Flow"/>
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Association Set, Flow Set (Flow-Group)"/>
<link href="#rfc.section.4" rel="Chapter" title="4 Mechanisms Used in Multi-Path Systems"/>
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Destination Selection"/>
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Path Selection"/>
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Chunking"/>
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Scheduling"/>
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Transport Protocol Stack Instance Selection"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Cost of Transport Option Selection"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Involvement of On-Path Elements"/>
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations"/>
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations"/>
<link href="#rfc.references" rel="Chapter" title="9 References"/>
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.2 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Tiesel, P. and T. Enghardt" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-tiesel-taps-communitgrany-latest" />
  <meta name="dct.issued" scheme="ISO8601" content="2017-6-27" />
  <meta name="dct.abstract" content="This document provides an abstract framework to reason about the composition of multi-path aware systems in a protocol-independent fashion.  It discusses basic mechanisms that are used in multi-path systems and their applicability to different granularities of communication units.  This document is targeted as consideration basis for automation of destination, path and transport protocol selection within the transport layer." />
  <meta name="description" content="This document provides an abstract framework to reason about the composition of multi-path aware systems in a protocol-independent fashion.  It discusses basic mechanisms that are used in multi-path systems and their applicability to different granularities of communication units.  This document is targeted as consideration basis for automation of destination, path and transport protocol selection within the transport layer." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">TAPS Working Group</td>
  <td class="right">P. Tiesel</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">T. Enghardt</td>
</tr>
<tr>
  <td class="left">Intended status: Informational</td>
  <td class="right">Berlin Institute of Technology</td>
</tr>
<tr>
  <td class="left">Expires: December 29, 2017</td>
  <td class="right">June 27, 2017</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Communication Units Granularity Considerations for Multi-Path Aware Transport Selection<br />
  <span class="filename">draft-tiesel-taps-communitgrany-latest</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>This document provides an abstract framework to reason about the composition of multi-path aware systems in a protocol-independent fashion.  It discusses basic mechanisms that are used in multi-path systems and their applicability to different granularities of communication units.  This document is targeted as consideration basis for automation of destination, path and transport protocol selection within the transport layer.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 29, 2017.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2017 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Conventions and Definitions</a></li>
<li>2.   <a href="#rfc.section.2">Introduction</a></li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Communication Units vs. Layering</a></li>
</ul><li>3.   <a href="#rfc.section.3">Abstract Hierarchy of Communication Units</a></li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Object</a></li>
<li>3.2.   <a href="#rfc.section.3.2">Stream</a></li>
<li>3.3.   <a href="#rfc.section.3.3">Association, Flow</a></li>
<li>3.4.   <a href="#rfc.section.3.4">Association Set, Flow Set (Flow-Group)</a></li>
</ul><li>4.   <a href="#rfc.section.4">Mechanisms Used in Multi-Path Systems</a></li>
<ul><li>4.1.   <a href="#rfc.section.4.1">Destination Selection</a></li>
<li>4.2.   <a href="#rfc.section.4.2">Path Selection</a></li>
<li>4.3.   <a href="#rfc.section.4.3">Chunking</a></li>
<li>4.4.   <a href="#rfc.section.4.4">Scheduling</a></li>
<li>4.5.   <a href="#rfc.section.4.5">Transport Protocol Stack Instance Selection</a></li>
</ul><li>5.   <a href="#rfc.section.5">Cost of Transport Option Selection</a></li>
<li>6.   <a href="#rfc.section.6">Involvement of On-Path Elements</a></li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a></li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a></li>
<li>9.   <a href="#rfc.references">References</a></li>
<ul><li>9.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a></li>
</ul><li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#conventions-and-definitions" id="conventions-and-definitions">Conventions and Definitions</a></h1>
<p id="rfc.section.1.p.1">The words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, and &#8220;MAY&#8221; are used in this document. It&#8217;s not shouting; when these words are capitalized, they have a special meaning as defined in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#intro" id="intro">Introduction</a></h1>
<p id="rfc.section.2.p.1">Today&#8217;s Internet architecture faces a communication endpoint with a set of choices, including choosing a transport protocol and picking an IP protocol version.  In many cases, e.g., when fetching data from a CDN, an endpoint has also the choice of which endpoint instance, <a href="#I-D.pauly-taps-guidelines">[I-D.pauly-taps-guidelines]</a> calls these instances <samp>Derived Endpoint</samp>, to contact as DNS can return multiple alternative addresses.</p>
<p id="rfc.section.2.p.2">If endpoints want to take advantage of multiple available paths, there is another bunch of, partially interdependent, choices:</p>
<p/>

<ul>
  <li>Which path(s) between the endpoints could be used?</li>
  <li>Which path(s) between the endpoints should be used?</li>
  <li>Should the paths be used in an active/active way or only as active/fallback?</li>
  <li>Which protocols or sets of protocols should be used?</li>
  <li>Which role will other on-path elements, e.g. middle-boxes, take in servicing this flow?</li>
</ul>
<p id="rfc.section.2.p.4">Implementing an heuristic or strategy for choosing from this overwhelming set of transport options by each application puts a huge burden on the application developer.  Thus, the decisions regarding all transport options mentioned so far should be supported and, if requested by the application, automated within a the transport layer.  In order to build such automatization, we need to be able to compare the product of all transport options (destinations, paths, transport protocols and protocol options) available to choose the most appropriate.</p>
<p id="rfc.section.2.p.5">As the protocols to be used are not known a priori and can differ depending on other transport options, this reasoning has to be independent of a specific protocol or implementation and allow to compare them even if they operate on different communication unit granularities.</p>
<h1 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> <a href="#communication-units-vs-layering" id="communication-units-vs-layering">Communication Units vs. Layering</a></h1>
<p id="rfc.section.2.1.p.1">When reasoning about network systems, layering traditionally has been the main guidance on where functionality is placed.  Looking at modern systems, the classical concept of layers and their mapping to protocols becomes blurry.</p>
<p id="rfc.section.2.1.p.2">In this document, we do not want to take a protocol-centric perspective, but we focus on mechanisms a multi-access system is composed of and the communication units they operate on.  This has several advantages:</p>
<p/>

<ul>
  <li>We can much easier abstract from the protocols used and look at the composition itself.</li>
  <li>By disseminate on which kind of communication unit these mechanisms can operate, we can reason about the overall design space.</li>
  <li>If seeing the same mechanism multiple times within the same system composition, we can reason about possibly conflicting optimizations.</li>
</ul>
<p id="rfc.section.2.1.p.4">Overall, this perspective allows us to compare mechanism like distributing requests of an application among different paths, MPTCP and using bandwidth aggregation proxies (as discussed within the IETF in the BANANA working group) despite their different nature and layer of implementation.</p>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#unit-h" id="unit-h">Abstract Hierarchy of Communication Units</a></h1>
<p id="rfc.section.3.p.1">These communication units definitions are primarily used for reasoning about automatic stack composition. Therefore, depending on the protocol stack instance, a communication unit can span multiple protocol instances.</p>
<p id="rfc.section.3.p.2">Some of these hierarchy levels correspond to objects in <a href="#I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</a>, but in case of Association and Association Set, we have to split categories as they may indeed be separate on the transport.  Note the naming confusion concerning the term &#8220;flow&#8221; deriving from different perspective.</p>
<p id="rfc.section.3.p.3">We also annotate the corresponding terminology used in <a href="#I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</a> if applicable.</p>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#object" id="object">Object</a></h1>
<p id="rfc.section.3.1.p.1">An Object is a piece of data that has a meaning for the application.  It is the smallest communication unit that we consider.</p>
<p><a href="#I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</a> correspondent: Message</p>
<p><a href="#I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</a> correspondent: Message</p>
<p id="rfc.section.3.1.p.4">Examples:</p>
<p/>

<ul>
  <li>A HTTP-Request/Response-Header/Body for HTTP/2</li>
  <li>An XML message in XMPP</li>
</ul>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> <a href="#stream" id="stream">Stream</a></h1>
<p id="rfc.section.3.2.p.1">A Stream is an ordered sequence of related Objects that should be treated the same by the transport system.</p>
<p><a href="#I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</a> correspondent: Flow</p>
<p><a href="#I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</a> correspondent: Stream</p>
<p id="rfc.section.3.2.p.4">Examples:</p>
<p/>

<ul>
  <li>A Stream in QUIC or SCTP</li>
  <li>A TCP connection used as transport for XMPP</li>
</ul>
<h1 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a> <a href="#association-flow" id="association-flow">Association, Flow</a></h1>
<p id="rfc.section.3.3.p.1">An Association multiplexes a set of Objects or Streams within the same Flow with common source and destination. Therefore these communication units become indistinguishable for the network.  Association and flow describe the same concept, the former from the perspective of the application, the latter from the perspective of the network.</p>
<p><a href="#I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</a> correspondent: Flow-Group</p>
<p><a href="#I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</a> correspondent: Association</p>
<p id="rfc.section.3.3.p.4">Examples:</p>
<p/>

<ul>
  <li>A TCP connection carrying HTTP/2 frames</li>
  <li>A set of IP packets that carry TCP or UDP segments and share the same 5-tuple of src-address, dst-address, protocol, src-port, dest-port.</li>
</ul>
<h1 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4.</a> <a href="#association-set-flow-set-flow-group" id="association-set-flow-set-flow-group">Association Set, Flow Set (Flow-Group)</a></h1>
<p id="rfc.section.3.4.p.1">An Association Set or Flow Set is a set of Associations or Flows that belong together from an application point of view.</p>
<p><a href="#I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</a> correspondent: Flow-Group</p>
<p><a href="#I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</a> correspondent: Association</p>
<p id="rfc.section.3.4.p.4">Examples:</p>
<p/>

<ul>
  <li>Two flows, one carrying RTP payloads and one used for RTCP control messages.</li>
</ul>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#mechanisms-used-in-multi-path-systems" id="mechanisms-used-in-multi-path-systems">Mechanisms Used in Multi-Path Systems</a></h1>
<h1 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a> <a href="#destination-selection" id="destination-selection">Destination Selection</a></h1>
<p id="rfc.section.4.1.p.1">Destination Selection refers to selecting one of multiple different destinations. This mechanism is applicable to any kind of communication unit and can occur on all layers.</p>
<p id="rfc.section.4.1.p.2">Typical cases for destination selection include:</p>
<p/>

<ul>
  <li>Choosing one address of a multi-homed server for an upcoming communication.</li>
  <li>Choosing a server among a list of servers retuned by DNS, e.g for servers that host the same content as part of a CDN.</li>
  <li>Choosing a backend server within a load balancer.</li>
</ul>
<p id="rfc.section.4.1.p.4">In practice, destination address selection is often tied to name resolution.  As name resolution relies on both local decisions on the endpoint as well as decisions within the DNS infrastructure, this mechanism spreads across different administrative domains which each independently contribute to the overall selection result.</p>
<h1 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a> <a href="#path-selection" id="path-selection">Path Selection</a></h1>
<p id="rfc.section.4.2.p.1">Path Selection refers to choosing which of the available paths to use.  and can occur on the network layer and any layer below.</p>
<p/>

<ul>
  <li>Within an end-host, path selection is usually realized by choosing the source IP address and thus choosing one of the local network interfaces for the communication to the remote endpoint.</li>
  <li>Within a path layer traffic system like an MPTCP-Proxy or a BANANA-Box, path selection is usually realized by choosing the outer source and destination address.</li>
  <li>In case of an ECMP router, path selection is usually done based on a 3- or 5-tupel and just determines the interface to the next hop.</li>
  <li>Within MPTCP, each TCP segment has to be assigned to one or more subflows for transmission to the receiver.</li>
</ul>
<p id="rfc.section.4.2.p.3">While path selection involves a choice of access network it does not need knowledge of or changes to the routing choices within the core network.</p>
<p id="rfc.section.4.2.p.4">When doing path selection on small communication units like TCP segments, it is not uncommon to split path selection into two subproblems: <em>Candidate Path Selection</em> determines feasible and preferred choices, e.g., in case of MPTCP by establishing subflows.  Afterwards, <em>Per-Chunk Path Selection</em> selects among these alternatives for each chunk. Thus, the first can be more expensive while the latter should be easy to execute.</p>
<p id="rfc.section.4.2.p.5">TODO: Discuss difference between Multiple Provisioning Domains <a href="#RFC7556">[RFC7556]</a> or multiple access networks within the same provisioning domain &#8211; especially when it comes to integrating 3GPP mechanisms like IFOM/ <a href="#RFC5555">[RFC5555]</a>.</p>
<h1 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3.</a> <a href="#chunking" id="chunking">Chunking</a></h1>
<p id="rfc.section.4.3.p.1">Chunking refers to splitting an object, a stream or a set of associations into one or more parts.  Typically, chunking splits only large objects or streams into multiple ones while keeping smaller entities untouched.  Associations or Flows are typically not split, but sets of Associations or Flows might be partitioned.  Once split into chunks, each chunk can be transferred individually over different transfer options.</p>
<p id="rfc.section.4.3.p.2">Chunking can and does occur at different layers within a system:</p>
<p/>

<ul>
  <li>A Web site consists of multiple objects or files.  Thus, the files can be seen as the natural chunks of a Web site.</li>
  <li>TCP takes as input a byte stream and chunks it into segments.  TCP chunking (segmentation) occurs at arbitrary byte ranges, thus it will most likely not align with boundaries of Objects that were multiplexed within an application layer Association on top of a TCP connection.</li>
</ul>
<p id="rfc.section.4.3.p.4">In practice, chunking is often constrained in order to maintain certain properties that are desirable for the overall system.  Examples such restrictions include the following:</p>
<p/>

<ul>
  <li>Segmentation in TCP restrict the chunk size, i.e. TCP segment size, to the IP MTU  or IP Path MTU to avoid fragmentation at the IP layer.</li>
  <li>Equal cost multipath routing does not distribute packets, but Flows to avoid reordering.</li>
</ul>
<h1 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4.</a> <a href="#scheduling" id="scheduling">Scheduling</a></h1>
<p id="rfc.section.4.4.p.1">Scheduling refers to distributing chunks or sets of chunks across multiple pre-chosen path. Thus, depending on the objectives, it can make sense to see scheduling as is nothing else than per-chunk path selection as defined above. In other cases, e.g. when trying to balance traffic, it makes sense to look at scheduling as a concept itself that uses chunking and per-chunk path selection as sub-mechanisms.</p>
<p id="rfc.section.4.4.p.2">Examples of scheduling strategies include:</p>
<p/>

<ul>
  <li>Schedule all chunks on one path as long as this path is available, otherwise fall pack to another.</li>
  <li>Distribute chunks based on path capacity.</li>
</ul>
<h1 id="rfc.section.4.5"><a href="#rfc.section.4.5">4.5.</a> <a href="#transport-protocol-stack-instance-selection" id="transport-protocol-stack-instance-selection">Transport Protocol Stack Instance Selection</a></h1>
<p id="rfc.section.4.5.p.1">TODO &#8211; There are many examples in TAPS &#8211; still unsure what will go here or will be cited here.</p>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#cost-of-transport-option-selection" id="cost-of-transport-option-selection">Cost of Transport Option Selection</a></h1>
<p id="rfc.section.5.p.1">Transport option selection mechanisms are often intertwined.  Which mechanism is used by which layer or which network component depends on the transfer objectives as well as the state of the network, e.g., availability, path throughput, path RTT, server load.</p>
<p id="rfc.section.5.p.2">The cost and complexity of transport option selection depends on the network state used and the number of transfer options.  If the transfer option selection only uses local state e.g., link availability, and the mechanism is predetermined and/or uses simple mechanisms, e.g., a simple hash function, the cost can even be negligible.  An example where transfer option selection is cheap is ECMP within a router.  In other cases, the cost can be non-trivial, e.g. when the selection involves queries to remote entities or even active network performance measurements.  Such examples include DNS or DHT lookups, as used by some file sharing protocols, or network measurements like RTT and bandwidth estimations used by many video streaming applications. Indeed, costs may be prohibitive, e.g when requiring multiple DNS lookups for every 1 second chunk of a 20 minute video.</p>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#involvement-of-on-path-elements" id="involvement-of-on-path-elements">Involvement of On-Path Elements</a></h1>
<p id="rfc.section.6.p.1">It may become necessary to take path layer components (middle-boxes) into account that interfere with the transport layer.</p>
<p id="rfc.section.6.p.2">While the classical &#8220;End-To-End Arguments in System Design&#8221; <a href="#End-To-End">[End-To-End]</a> advocates for a dumb network and placing functionality as close to the edge and up in the stack as possible, there are always tussles of moving functionality up or down the stack.  This document does not argue against pushing some multi-path functionality down the stack, but advocates to maintain the control of the overall system composition at the end host.</p>
<p id="rfc.section.6.p.3">Especially in the 3GPP context, a lot of off-loading mechanisms have been specified that are implemented as path level components, within virtual network adapters.</p>
<h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a> <a href="#sec" id="sec">Security Considerations</a></h1>
<p id="rfc.section.7.p.1">Security related transport service request must take priority over performance, therefore, transport options or stack compositions that don&#8217;t provide the transport service requested should be ignored for transport option selection.</p>
<p/>

<dl>
  <dt>Note:</dt>
  <dd style="margin-left: 8">This discussion is not exhaustive &#8211; more considerations will be added in later versions of this draft.</dd>
</dl>
<h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a> <a href="#iana" id="iana">IANA Considerations</a></h1>
<p id="rfc.section.8.p.1">None</p>
<h1 id="rfc.references"><a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1"><a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.references.2"><a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="End-To-End">[End-To-End]</b>
      </td>
      <td class="top"><a>Saltzer, J.</a>, <a>Reed, D.</a> and <a>D. Clark</a>, "<a>End-to-end arguments in system design</a>", ACM Transactions on Computer Systems Vol. 2, pp. 277-288, DOI 10.1145/357401.357402, November 1984.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.gjessing-taps-minset">[I-D.gjessing-taps-minset]</b>
      </td>
      <td class="top"><a>Gjessing, S.</a> and <a>M. Welzl</a>, "<a href="http://tools.ietf.org/html/draft-gjessing-taps-minset-05">A Minimal Set of Transport Services for TAPS Systems</a>", Internet-Draft draft-gjessing-taps-minset-05, June 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.pauly-taps-guidelines">[I-D.pauly-taps-guidelines]</b>
      </td>
      <td class="top"><a>Pauly, T.</a>, "<a href="http://tools.ietf.org/html/draft-pauly-taps-guidelines-00">Software Guidelines for Protocol Evolution</a>", Internet-Draft draft-pauly-taps-guidelines-00, February 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.trammell-taps-post-sockets">[I-D.trammell-taps-post-sockets]</b>
      </td>
      <td class="top"><a>Trammell, B.</a>, <a>Perkins, C.</a>, <a>Pauly, T.</a> and <a>M. Kuehlewind</a>, "<a href="http://tools.ietf.org/html/draft-trammell-taps-post-sockets-00">Post Sockets, An Abstract Programming Interface for the Transport Layer</a>", Internet-Draft draft-trammell-taps-post-sockets-00, March 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5555">[RFC5555]</b>
      </td>
      <td class="top"><a>Soliman, H.</a>, "<a href="http://tools.ietf.org/html/rfc5555">Mobile IPv6 Support for Dual Stack Hosts and Routers</a>", RFC 5555, DOI 10.17487/RFC5555, June 2009.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7556">[RFC7556]</b>
      </td>
      <td class="top"><a>Anipko, D.</a>, "<a href="http://tools.ietf.org/html/rfc7556">Multiple Provisioning Domain Architecture</a>", RFC 7556, DOI 10.17487/RFC7556, June 2015.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Philipp S. Tiesel</span> 
	  <span class="n hidden">
		<span class="family-name">Tiesel</span>
	  </span>
	</span>
	<span class="org vcardline">Berlin Institute of Technology</span>
	<span class="adr">
	  <span class="vcardline">Marchstr. 23</span>

	  <span class="vcardline">
		<span class="locality">Berlin</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:philipp@inet.tu-berlin.de">philipp@inet.tu-berlin.de</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Theresa Enghardt</span> 
	  <span class="n hidden">
		<span class="family-name">Enghardt</span>
	  </span>
	</span>
	<span class="org vcardline">Berlin Institute of Technology</span>
	<span class="adr">
	  <span class="vcardline">Marchstr. 23</span>

	  <span class="vcardline">
		<span class="locality">Berlin</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:theresa@inet.tu-berlin.de">theresa@inet.tu-berlin.de</a></span>

  </address>
</div>

</body>
</html>
